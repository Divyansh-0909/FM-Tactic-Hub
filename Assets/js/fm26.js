// --- Animated Particles ---
const canvas = document.getElementById('particle-canvas'); const ctx = canvas.getContext('2d'); canvas.width = window.innerWidth; canvas.height = window.innerHeight; let particlesArray; let isParticleAnimationRunning = true; class Particle { constructor(x, y, dX, dY, s, c) { this.x=x; this.y=y; this.directionX=dX; this.directionY=dY; this.size=s; this.color=c; } draw() { ctx.beginPath(); ctx.arc(this.x,this.y,this.size,0,Math.PI*2,false); ctx.fillStyle=this.color; ctx.fill(); } update() { if(this.x>canvas.width||this.x<0){this.directionX=-this.directionX;} if(this.y>canvas.height||this.y<0){this.directionY=-this.directionY;} this.x+=this.directionX; this.y+=this.directionY; this.draw(); } } function initParticles() { particlesArray=[]; let num = (canvas.height*canvas.width)/9000; for(let i=0;i<num;i++){ let s=(Math.random()*1)+0.5; let x=(Math.random()*((innerWidth-s*2)-(s*2))+s*2); let y=(Math.random()*((innerHeight-s*2)-(s*2))+s*2); let dX=(Math.random()*.4)-.2; let dY=(Math.random()*.4)-.2; let c='rgba(255,255,255,0.25)'; particlesArray.push(new Particle(x,y,dX,dY,s,c)); } } function animateParticles() { if(!isParticleAnimationRunning) return; requestAnimationFrame(animateParticles); ctx.clearRect(0,0,innerWidth,innerHeight); for(let i=0;i<particlesArray.length;i++){particlesArray[i].update();} } window.addEventListener('resize',()=>{canvas.width=innerWidth; canvas.height=innerHeight; initParticles();}); initParticles(); animateParticles(); let scrollTimeout; window.addEventListener('scroll',()=>{ document.body.classList.add('is-Fscrolling'); isParticleAnimationRunning=false; clearTimeout(scrollTimeout); scrollTimeout=setTimeout(()=>{document.body.classList.remove('is-scrolling'); if(!isParticleAnimationRunning){ isParticleAnimationRunning=true; animateParticles();}},250); });

const tactics = [ { title: 'The Pep Manual', description: 'From Barcelona to Bayern to Manchester City, Pep Guardiola has reinvented the game at every stop.', imageUrl: 'https://pbs.twimg.com/media/G0j2jbMXEAAJSF8?format=jpg&name=medium', downloadLink: 'https://drive.google.com/drive/folders/1HrA4Z0e4OO3Plrv0z-6kGJp71l3D8ryG?usp=sharing', tweetId: '1966092431847281118', category: 'evolution' }, { title: 'UEL: Unai Emery League', description: 'A tactical thread analyzing how Unai Emery won all four of his UEFA Europa League titles.', imageUrl: 'https://pbs.twimg.com/media/GxlgE5XXQAAme_m?format=jpg&name=medium', downloadLink: 'https://drive.google.com/drive/folders/1a3BgCExO9XOD14DDAHD2YFiTJg3-MTjM?usp=drive_link', tweetId: '1952697947809853633', category: 'evolution' }, { title: 'The Special One', description: 'A tactical thread breaking down José Mourinho’s systems across his career from Porto to Fenerbahçe.', imageUrl: 'https://pbs.twimg.com/media/Gw8XPq2WIAAt8Gt?format=jpg&name=medium', downloadLink: 'https://drive.google.com/drive/folders/1NFHq_fgzdTXaJ6xW_d1fRrQOp0z9vcGk?usp=drive_link', tweetId: '1949802748318228617', category: 'evolution' }, { title: 'Four Clubs. Four Crowns', description: 'A deep dive into Antonio Conte\'s title-winning systems, focusing on wing-back dominance.', imageUrl: 'https://pbs.twimg.com/media/GwTYSFqW4AAo6Vr?format=jpg&name=medium', downloadLink: 'https://drive.google.com/drive/folders/1RN4MYs4otbJwL8N0xuZUKDt_XQwMq62n?usp=drive_link', tweetId: '1946918932557816163', category: 'evolution' }, { title: "Pere Romeu's Barcelona", description: "A detailed tactical breakdown of FC Barcelona Femení under Pere Romeu, how he preserved Juego de Posición", imageUrl: 'https://pbs.twimg.com/media/G4GLiKCWgAIQpVH?format=jpg&name=medium', downloadLink: 'https://drive.google.com/drive/folders/12kdpSKzYmIurJjw3skPiAKDWrnpyNHH6?usp=drive_link', tweetId: '1982018806009479343', category: 'system' },];

function createTacticCard(tactic) { const card = document.createElement('div'); card.className = `tactic-card glass-gradient-panel rounded-lg overflow-hidden shadow-xl`; const isPlaceholderLink = tactic.downloadLink === 'YOUR_GOOGLE_DRIVE_DOWNLOAD_LINK_HERE'; let downloadButtonHtml = isPlaceholderLink ? `<div class="w-full bg-[#4b4c57] text-white font-bold py-3 px-4 rounded-t-lg cursor-not-allowed text-center transition-colors duration-300">Coming Soon...</div>` : `<a href="${tactic.downloadLink}" target="_blank" rel="noopener noreferrer" class="block w-full bg-[#b078ff] hover:bg-[#996ae6] text-white font-bold py-3 px-4 rounded-t-lg text-center transition-colors duration-300">Download Tactic</a>`; const threadButtonVisibility = isPlaceholderLink ? 'invisible' : ''; const threadButtonHtml = tactic.tweetId ? `<div class="mt-auto pt-4 ${threadButtonVisibility}"><a href="https://twitter.com/x/status/${tactic.tweetId}" target="_blank" rel="noopener noreferrer" class="block w-full text-center border border-[#b078ff] text-[#b078ff] font-semibold py-2 px-4 rounded-lg hover:bg-[#b078ff] hover:text-white transition-colors duration-300">Full thread</a></div>` : ''; const imageVisibility = isPlaceholderLink ? 'invisible' : ''; const imageHtml = `<div class="relative w-full h-56 bg-black/20 rounded-md flex items-center justify-center ${imageVisibility}"><img src="${tactic.imageUrl}" alt="${tactic.title}" class="max-w-full max-h-full object-contain" onerror="this.onerror=null;this.src='https://placehold.co/600x400/1F2973/FFFFFF?text=Image+Error';"></div>`; const textContainerJustify = isPlaceholderLink ? 'justify-center' : ''; card.innerHTML = `${downloadButtonHtml}<div class="p-6 flex-grow flex flex-col ${textContainerJustify}">${imageHtml}<div class="mt-4"><h3 class="text-xl font-bold mb-2 text-white">${tactic.title}</h3><p class="text-gray-400 text-base">${tactic.description}</p></div>${threadButtonHtml}</div>`; return card; }

function initializeCarousel(selector, category) { const carouselTactics = tactics.filter(t => t.category === category); const swiperWrapper = document.querySelector(`${selector} .swiper-wrapper`); if (!swiperWrapper) return; carouselTactics.forEach(tactic => { const slide = document.createElement('div'); slide.className = 'swiper-slide'; const card = createTacticCard(tactic); slide.appendChild(card); swiperWrapper.appendChild(slide); }); const isMobile = window.innerWidth < 768; let swiperOptions = { grabCursor: true, centeredSlides: true, loop: false, pagination: { el: `${selector} .swiper-pagination`, clickable: true, }, navigation: { nextEl: `${selector} .swiper-button-next`, prevEl: `${selector} .swiper-button-prev`, }, }; if (isMobile) { Object.assign(swiperOptions, { effect: 'slide', slidesPerView: 1, spaceBetween: 20, }); } else { Object.assign(swiperOptions, { effect: 'coverflow', slidesPerView: 'auto', coverflowEffect: { rotate: 50, stretch: 0, depth: 100, modifier: 1, slideShadows: true, }, on: { init: function () { const activeCard = this.slides[this.activeIndex].querySelector('.tactic-card'); if (activeCard) activeCard.classList.add('is-active-slide'); }, slideChange: function () { this.slides.forEach(slide => { const card = slide.querySelector('.tactic-card'); if (card) card.classList.remove('is-active-slide'); }); const activeCard = this.slides[this.activeIndex].querySelector('.tactic-card'); if (activeCard) activeCard.classList.add('is-active-slide'); } } }); } new Swiper(selector, swiperOptions); }

document.addEventListener('DOMContentLoaded', () => { setTimeout(() => { initializeCarousel('.evolutions-carousel', 'evolution'); initializeCarousel('.system-analysis-carousel', 'system'); }, 300); setTimeout(() => { document.body.classList.add('loaded'); }, 100); });